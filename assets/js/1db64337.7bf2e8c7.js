"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[372],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),f=r,v=p["".concat(l,".").concat(f)]||p[f]||d[f]||o;return n?a.createElement(v,i(i({ref:t},u),{},{components:n})):a.createElement(v,i({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6777:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return p}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],s={sidebar_position:1},l="Overview",c={unversionedId:"overview",id:"overview",title:"Overview",description:"If you're familiar with React Router, this page serves as a quick introduction to React Native Url Router.",source:"@site/docs/overview.md",sourceDirName:".",slug:"/overview",permalink:"/react-native-url-router/docs/overview",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar"},u=[{value:"Installation",id:"installation",children:[],level:2},{value:"History",id:"history",children:[],level:2},{value:"Setting up Native Router",id:"setting-up-native-router",children:[],level:2},{value:"Setting up Stack Navigators",id:"setting-up-stack-navigators",children:[],level:2},{value:"Setting up Tab Navigators",id:"setting-up-tab-navigators",children:[],level:2},{value:"Navigation",id:"navigation",children:[],level:2},{value:"Styling Tabs",id:"styling-tabs",children:[],level:2},{value:"Styling the Stack Navigator",id:"styling-the-stack-navigator",children:[],level:2},{value:"What if an opened URL is not found?",id:"what-if-an-opened-url-is-not-found",children:[],level:2}],d={toc:u};function p(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"overview"},"Overview"),(0,o.kt)("p",null,"If you're familiar with ",(0,o.kt)("a",{parentName:"p",href:"https://reactrouter.com/docs/en/v6/getting-started/overview"},"React Router"),", this page serves as a quick introduction to React Native Url Router."),(0,o.kt)("p",null,"It aims to mirror the overview page of React Router, with minimal explanations and lots of code."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"expo install react-native-url-router react-native-pager-view react-native-screens react-router\n")),(0,o.kt)("p",null,"For regular react native read the installation page."),(0,o.kt)("h2",{id:"history"},"History"),(0,o.kt)("p",null,"On mobile, we need to store previously visited screens in memory we manage ourselves if we want to allow users to go back to a previous screen."),(0,o.kt)("p",null,"React Native Url Router treats allmost all navigation actions as just opening a URL."),(0,o.kt)("p",null,"Deep links are also treated as clicked URLs (just coming outside of the app)."),(0,o.kt)("p",null,"Mobile patterns unfortunately make the memory model more complex than in a web browser."),(0,o.kt)("p",null,"In short, we don't have a single visited URL stack, but this should be transparent and behave just as a regular web browser navigation. If you need access to the underlying model if edge cases occur, it is exposed and easy to understand."),(0,o.kt)("p",null,"Read more on the Nested history docs."),(0,o.kt)("h2",{id:"setting-up-native-router"},"Setting up Native Router"),(0,o.kt)("p",null,"The NativeRouter component should be used just as the BrowserRouter or MemoryRouter components from react-router and should surround your entire tree."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import * as React from "react";\nimport { NativeRouter } from "react-native-url-router";\nexport default function App() {\n  return <NativeRouter>... your navigation structure comes here</NativeRouter>;\n}\n')),(0,o.kt)("p",null,"It works as an uncontrolled component, exposing the URL and history by context if needed. You use Navigators, Links or hooks provided by react-router to interact with it."),(0,o.kt)("h2",{id:"setting-up-stack-navigators"},"Setting up Stack Navigators"),(0,o.kt)("div",{className:"snack-player","data-snack-name":"StackNavigators","data-snack-description":"Example usage","data-snack-code":"%0Aimport%20*%20as%20React%20from%20%22react%22%3B%0Aimport%20%7B%20Text%2C%20View%2C%20StyleSheet%20%7D%20from%20%22react-native%22%3B%0Aimport%20%7B%20NativeRouter%2C%20StackNavigator%2C%20Link%20%7D%20from%20%22react-native-url-router%22%3B%0Aimport%20%7B%20Route%20%7D%20from%20%22react-router%22%3B%0Aexport%20default%20function%20App()%20%7B%0A%20%20return%20(%0A%20%20%20%20%3CNativeRouter%3E%0A%20%20%20%20%20%20%3CStackNavigator%3E%0A%20%20%20%20%20%20%20%20%3CRoute%0A%20%20%20%20%20%20%20%20%20%20path%3D%22%2F%22%0A%20%20%20%20%20%20%20%20%20%20element%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%3EYour%20root%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CLink%20to%3D%22feed%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%3EGo%20to%20feed%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2FLink%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%20%20%3CRoute%0A%20%20%20%20%20%20%20%20%20%20path%3D%22feed%22%0A%20%20%20%20%20%20%20%20%20%20element%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%3EYour%20feed%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CLink%20back%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%3EGo%20back%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2FLink%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%3C%2FStackNavigator%3E%0A%20%20%20%20%3C%2FNativeRouter%3E%0A%20%20)%3B%0A%7D","data-snack-dependencies":"react-native-url-router,react-native-pager-view,react-native-screens,react-router","data-snack-platform":"ios","data-snack-supported-platforms":"ios,android","data-snack-theme":"light","data-snack-preview":"true","data-snack-loading":"lazy"}),(0,o.kt)("h2",{id:"setting-up-tab-navigators"},"Setting up Tab Navigators"),(0,o.kt)("p",null,"A tab navigator is an another native navigation pattern - the screens are arranged left to right, and changed either by swiping or tapping on an icon placed on a bottom bar."),(0,o.kt)("div",{className:"snack-player","data-snack-name":"TabNavigators","data-snack-description":"Example usage","data-snack-code":"import%20*%20as%20React%20from%20%22react%22%3B%0Aimport%20%7B%20Text%2C%20View%2C%20StyleSheet%20%7D%20from%20%22react-native%22%3B%0Aimport%20%7B%20NativeRouter%2C%20TabNavigator%2C%20Link%20%7D%20from%20%22react-native-url-router%22%3B%0Aimport%20%7B%20Route%20%7D%20from%20%22react-router%22%3B%0Aexport%20default%20function%20App()%20%7B%0A%20%20return%20(%0A%20%20%20%20%3CNativeRouter%3E%0A%20%20%20%20%20%20%3CTabNavigator%3E%0A%20%20%20%20%20%20%20%20%3CRoute%0A%20%20%20%20%20%20%20%20%20%20path%3D%22feed%22%0A%20%20%20%20%20%20%20%20%20%20element%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3CView%20style%3D%7B%7B%20padding%3A%2050%20%7D%7D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%3EYour%20feed%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CLink%20to%3D%22%2Fprofile%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%3EGo%20to%20profile%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2FLink%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2FView%3E%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%20%20%3CRoute%0A%20%20%20%20%20%20%20%20%20%20path%3D%22profile%22%0A%20%20%20%20%20%20%20%20%20%20element%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3CText%20style%3D%7B%7B%20padding%3A%2050%20%7D%7D%3EYour%20profile%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%3E%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%20%20%3C%2FTabNavigator%3E%0A%20%20%20%20%3C%2FNativeRouter%3E%0A%20%20)%3B%0A%7D","data-snack-dependencies":"react-native-url-router,react-native-pager-view,react-native-screens,react-router","data-snack-platform":"ios","data-snack-supported-platforms":"ios,android","data-snack-theme":"light","data-snack-preview":"true","data-snack-loading":"lazy"}),(0,o.kt)("p",null,"Bottom tabs are just ",(0,o.kt)("inlineCode",{parentName:"p"},"<Link>")," components. If you don't provide a tab title (see Styling) the default tab label shows a URL that the tab press will navigate to."),(0,o.kt)("h2",{id:"navigation"},"Navigation"),(0,o.kt)("p",null,"You can use ",(0,o.kt)("inlineCode",{parentName:"p"},"<Link>")," components everywhere you want to navigate on user click. You can also navigate imperatively (so after something like submitting a form goes through) using the useNavigate hook from react-router."),(0,o.kt)("p",null,"Links can be either relative or absolute (prefixed with /)."),(0,o.kt)("p",null,"If you need to redirect users on render (like for auth) use the NavigateIfFocused component. It acts just as Navigate from react-router, except it will not navigate unless the screen it is rendered in is currently in focus."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'<Link to="/feed">\n  <Text>Go to feed</Text>\n</Link>;\n\nconst navigate = useNavigate();\nconst submit = async () => {\n  const result = await form.submit();\n  if (result.ok) {\n    navigate("formSubmitted");\n  }\n};\n\nloggedIn ? (\n  <NavigateIfFocused to="/app" replace />\n) : (\n  <NavigateIfFocused to="/login" replace />\n);\n')),(0,o.kt)("h2",{id:"styling-tabs"},"Styling Tabs"),(0,o.kt)("p",null,"Tabs can be styled by providing a ",(0,o.kt)("inlineCode",{parentName:"p"},"tabsConfig")," prop to the TabNavigator."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'const mainTabsConfig = {\n  feed: {\n    title: "My feed"\n    icon: ({active, color, size}) => <FeedIcon active={active} color={color} size={size} />\n  },\n  profile: {\n    title: "My profile"\n    icon: ({active, color, size}) => <ProfileIcon active={active} color={color} size={size} />\n  },\n};\n\n<TabNavigator tabsConfig={mainTabsConfig}>\n')),(0,o.kt)("p",null,"If you need more styling options you can override the BottomTabsComponent according to the API docs.\nAdditional props passed in tabConfig will be provided to the custom tabs component.\nCheck the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/software-mansion-labs/react-native-url-router/blob/main/src/components/DefaultBottomTabs.tsx"},"DefaultBottomTabs")," implementation for details."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'const myTabsConfig = {\n  feed: {\n    title: "My feed"\n    rounded: true\n  },\n  profile: {\n    title: "My profile"\n    rounded: false\n  },\n};\n<TabNavigator BottomTabsComponent={MyBottomTabs} tabsConfig={myTabsConfig}>\n')),(0,o.kt)("h2",{id:"styling-the-stack-navigator"},"Styling the Stack Navigator"),(0,o.kt)("p",null,"Stack Navigator can be styled by providing defaultScreenConfig or screensConfig props. When configuration for a specific path is not provided in the screensConfig under a correct key, the default one is used as fallback. These configurations are shallow merged."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'const screensConfig = {\n  feed: {\n    title: "My feed"\n    stackHeaderConfig: { hidden: true },\n    containerStyle: { backgroundColor: "#fff" },\n    stackConfig: { gestureEnabled: false }\n  },\n};\n\nconst defaultScreenConfig = { title: "Other screens" }\n\n<StackNavigator screensConfig={screensConfig} defaultScreenConfig={defaultScreenConfig}/>\n')),(0,o.kt)("p",null,"There's a bit more to explain here."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"containerStyle")," is a regular styles prop passed onto the root container."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"stackConfig")," defines customization options from ",(0,o.kt)("inlineCode",{parentName:"p"},"react-native-screens")," passed onto the native ScreenStack.\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/software-mansion/react-native-screens/blob/main/guides/GUIDE_FOR_LIBRARY_AUTHORS.md#screenstack"},"Read this props list")," for details."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"stackHeaderConfig")," is spread into the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/software-mansion/react-native-screens/blob/main/guides/GUIDE_FOR_LIBRARY_AUTHORS.md#screenstackheaderconfig"}," ",(0,o.kt)("inlineCode",{parentName:"a"},"<ScreenStackHeaderConfig>"))," from react-native-screens."),(0,o.kt)("p",null,"On stackHeaderConfig you can define props like ",(0,o.kt)("inlineCode",{parentName:"p"},"hidden"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"autoFocus")," and others."),(0,o.kt)("p",null,"If you need to fully customize your header, you can provide ",(0,o.kt)("inlineCode",{parentName:"p"},"stackHeaderConfig.children")," to style the special child views like ",(0,o.kt)("inlineCode",{parentName:"p"},"ScreenStackHeaderCenterView"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"stackHeaderConfig = {\n  children: <>\n    <ScreenStackHeaderCenterView>\n      <CustomCenterText/>\n    <ScreenStackHeaderCenterView/>\n  </>\n}\n")),(0,o.kt)("h2",{id:"what-if-an-opened-url-is-not-found"},"What if an opened URL is not found?"),(0,o.kt)("p",null,"Well... Nothing. Screens still remain at their old order, tabs don't switch and you don't see a 404 screen."),(0,o.kt)("p",null,"This allows us to do nifty stuff like botom modals and side by side views."),(0,o.kt)("p",null,"As long as the two layers (screens behind the modal and the modal itself) have different URL prefixes (see nested history), it works automagically."))}p.isMDXComponent=!0}}]);